# :TODO: Why does this work? This is configuring `pylith.app.journal`, not `pylith.journal`.
journal:
  decor: 1
  detail: 5

# :TODO: Pyre needs to be updated so that the application name is set consistently with the proper context (pylith.app versus pylith).
pylith.journal:
  debug.TODO.active: no

# pylith.app:
#   problem: pylith.problems.time_dependent#static_problem

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------

pylith.app.metadata:
  authors:
    - Brad Aagaard
  description: Elasticity axial extension with Dirichlet and Neumann boundary conditions

pylith.app.defaults:
  output_name: elasticity-axial-extension

# Use default application-level PETSc options
# Use default problem (TimeDependent)

# -----------------------------------------------------------------------------
# Problem
# -----------------------------------------------------------------------------

# Use default scales for nondimensionalization
# Use default mesh_initializer
# Use default governing equation (elasticity)

# -----------------------------------------------------------------------------
# Governing equation
# -----------------------------------------------------------------------------

pylith.app.problem.governing_eqn:
  solver.petsc_options:
    solver: pylith.petsc.options.group_list#solver_elasticity_nofault
    initial_guess.enabled: True
    tolerances.enabled: True
    adaptive_ts.enabled: True
  boundary_conditions:
    - dirichlet#bc_xneg
    - neumann#bc_xpos
  materials:
    - isotropic_linear#crust

# -----------------------------------------------------------------------------
# Materials
# -----------------------------------------------------------------------------

crust:
  label_name: material-id
  label_value: 1
  auxiliary_subfields:
    density.discretization.basis_order: 2
    shear_modulus.discretization.basis_order: 0

# -----------------------------------------------------------------------------
# Boundary conditions
# -----------------------------------------------------------------------------

bc_xneg:
  label_name: boundary_xneg
  label_value: 1
  constrained_dof: ["x"]
  # :TODO: Set spatial database

bc_xpos:
  label_name: boundary_xpos
  label_value: 1
  # :TODO: Set spatial database
