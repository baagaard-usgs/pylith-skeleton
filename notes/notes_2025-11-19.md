# Notes

1. Does Pyre preserve the order of component attributes? That is, does `cls.pyre_localTraits()` preserve order?

2. What is a good "Pyre" way to organize components based on physics? How should I name protocols and families?

  Elasticity, incompressible elasticity, and poroelasticity each have auxiliary subfields, derived subfields, and solver options.
  
    Grouped by physics I

    ```bash
    pylith/materials
      Material.py
    
    pylith/materials/elasticity (Material has auxiliary_subfields, derived_subfields)
      Material.py (family=pylith.materials.elasticity.material)  
      BulkRheology.py (protocol=pylith.materials.elasticity.bulk_rheology)
      AuxiliarySubfields.py (family=pylith.materials.elasticity.auxiliary_subfields)
      DerivedSubfields.py (family=pylith.materials.elasticity.derived_subfields)
    pylith/materials/elasticity/isotropic_linear
      BulkRheology.py (family=pylith.materials.elasticity.isotropic_linear)
      AuxiliarySubfields.py (family=pylith.materials.elasticity.isotropic_linear.auxiliary_subfields)
      DerivedSubfields.py (family=pylith.materials.elasticity.isotropic_linear.derived_subfields)
    ```
  
    Grouped by physics amd component type.

    ```bash
    pylith/materials
      Elasticity.py
      IncompressibleElasticity.py
      Poroelasticity.py
    pylith/materials/auxiliary_subfields
      Elasticity.py
      IncompressibleElasticity.py
      Poroelasticity.py
    pylith/materials/derived_subfields
      Elasticity.py
      IncompressibleElasticity.py
      Poroelasticity.py
    pylith/materials/elasticity_rheologies
      IsotropicLinear.py
    pylith/materials/elasticity_rheologies/auxiliary_subfields
      IsotropicLinear.py
    pylith/materials/elasticity_rheologies/derived_subfields
      IsotropicLinear.py
    ```
  
3. What is the best way to provide defaults for a component based on its family name? What is required for this to work? Does `import pylith` need to provide `pylith.governing_eqns.elasticity` or can it be imported using`import pylith.governing_eqns.elasticity`?

    ```python
    class Elasticity(pylith.component, implements=GoverningEqn, family="pylith.governing_eqns.elasticity"):

        solver = solver(default=solver_elasticity_nofault)
    ```

    Parameters using component hierarchy:

    ```yaml
    pylith.app.problem.governing_eqn.solver:
        petsc_options:
            solver:
                - pc_type: gamg
    ```

    Parameters using family name (only works in some cases)

    ```yaml
    pylith.governing_eqns.elasticity:
        solver.petsc_options.solver:
            - pc_type: gamg
    ```
