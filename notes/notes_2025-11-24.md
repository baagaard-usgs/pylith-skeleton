# Notes

1. Review elasticity-axial-disp parameter settings.

   Metaclass for components is `Actor.py`. Metaclass for applications is `Director.py`.
   `__new__()` builds the class record.
   `__init__()` initializes the class record (class attributes).
   `__call__()` is invoked when the class constructor is about to be called.

    `properties.strings` matches `list(str)`
    `properties.kv` matches `dict(str -> str)`
    `properties.catalog` `dict(str -> stuff)`

2. Review PyLith application parameter settings.

   PETSc - Parameter tree.

3. Review updated code layout.
   1. Governing equations
   2. Protocols
4. Trapping import errors.

      ```console
      pyre.calc (firewall):
      .. at /Users/baagaard/src/cig/pyre-1.x/packages/pyre/calc/Postprocessor.py:62
      .. in 'getValue'
      -- 'NoneType' object has no attribute 'pyre_tip'```
      ```

   Error is coming from `ModuleNotFound` or `ImportError`   

   TODO: Create small test(s).

5. Fix use of SolverPetsc.pyre_initialized() to validate solver settings.

Catch errors as early as possible. pyre_configured() is known at configure. pyre_initialized only if initialized.

6. What are the pros/cons of using `schema(default=X)` versus providing `pyre_default()` in the protocol?

`pyre_default()` is in protocol. Least amount of information is available. Guarantees component has a value. None means uninitialized.

`schema(default=X)` provides "reasonable" value for component.

7. CIG nemesis: PySys_SetArgv() is deprecated in Python v3.11

nemesis: may be related to processing command arguments.

8. How to run Pyre tests?
      1. Use `mm/mm` or `mm/mm.py`?

         Use `mm`.

         `mm TESTNAME` (no .py; consistent for C++ and Python)
         `mm DIRECTORY` with `.` instead of `/` (intends to fix).

         Useful targets

         `mm tests.info` (includes list of test suites)
         `mm TESTSUITE.info` (general information)
         `mm TESTSUITE.info.staging.targets` (list of targets)

9.  Does Pyre+MPI work on Brad's computer?
       1. What error(s) are generated?

      ```bash
      cd tests/mpi.pkg

      python3 extension.py
      File "/Users/baagaard/src/cig/pyre-1.x/tests/mpi.pkg/extension.py", line 21, in test
         world = ext.world
                  ^^^^^^^^^
      AttributeError: 'NoneType' object has no attribute 'world'

      python3 mpirun.py
      pyre.components.exceptions.ResolutionError: could not resolve 'mpi.mpirun' into a component that implements protocol 'pyre.shells'
      ```
